---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import { getCollection } from 'astro:content';
import TopNav from "../components/TopNav.astro";
import Layout from "../layouts/Layout.astro";

const posts = await getCollection("posts");
---

<Layout title="Blog posts">
  <TopNav />
  <main class="container">
    <h1>Blog posts</h1>
    <ul>
      {posts.map((post) => (
        <li>
          <a href={`${Astro.url}/${post.slug}`}>{post.data.title}</a>
        </li>
      ))}
    </ul>
  </main>
  <footer/>
</Layout>
